[["/Users/cuatroochenta/MagicShopper/magicshopper-node/tests/modules/info/InfoQueryHandler.test.ts",{"fileContent":"\n// let repository: CourseRepositoryMock;\n// let handler: CreateCourseCommandHandler;\n//\n// const eventBus = new EventBusMock();\n\nbeforeEach(() => {\n    // repository = new CourseRepositoryMock();\n    // const creator = new CourseCreator(repository, eventBus);\n    // handler = new CreateCourseCommandHandler(creator);\n});\n\ndescribe('InfoRequest', () => {\n    it('should retrieve a info of app', async() => {\n    // const command = CreateCourseCommandMother.random();\n    //\n    // await handler.handle(command);\n    //\n    // const course = CourseMother.fromCommand(command);\n    // repository.assertLastSavedCourseIs(course);\n\n        expect(1).toEqual(1)\n    });\n});\n","resolvedModuleNames":[]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/tests/modules/info/aplication/InfoQueryHandler.test.ts",{"fileContent":"import InfoQueryHandler from '../../../../src/modules/info/application/info/InfoQueryHandler';\nimport InfoService from '../../../../src/modules/info/application/info/InfoService';\nimport EventBusMock from '../__mocks__/EventBusMock';\nimport InfoQueryMother from '../domain/InfoQueryMother';\n\nlet handler: InfoQueryHandler;\nlet eventBus: EventBusMock;\n\nbeforeEach(() => {\n    eventBus = new EventBusMock();\n    const creator = new InfoService(eventBus);\n    handler = new InfoQueryHandler(creator);\n});\n\ndescribe('InfoRequest', () => {\n    it('should retrieve a info of app', async () => {\n        const query = InfoQueryMother.random();\n\n        await handler.handle(query);\n\n        eventBus.hasBeenPublishedEvent();\n    });\n});\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoQueryHandler.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoService.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/tests/modules/info/__mocks__/EventBusMock.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/tests/modules/info/domain/InfoQueryMother.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/QueryHandler.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoResponse.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoQuery.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/EventBus.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/utils/Sleep.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/domain/InfoRequestedDomainEvent.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Mapper.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/DomainEvent.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/EventSubscriber.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoQueryHandler.ts",{"fileContent":"import { QueryHandler } from '@microk/cqrs/domain/query/QueryHandler';\nimport { InfoResponse } from './InfoResponse';\nimport InfoQuery from './InfoQuery';\nimport InfoService from './InfoService';\n\nexport default class InfoQueryHandler extends QueryHandler<InfoQuery, InfoResponse> {\n    constructor(private readonly infoService: InfoService) {\n        super(InfoQuery)\n    }\n\n    handle(query: InfoQuery): Promise<InfoResponse> {\n        return this.infoService.invoke();\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/QueryHandler.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoResponse.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoQuery.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoService.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Type.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/Query.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/QueryResponse.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/MessageNameFactory.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/EventBus.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/utils/Sleep.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/domain/InfoRequestedDomainEvent.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/QueryHandler.ts",{"fileContent":"import { Type } from '../../../common/Type';\nimport Query from './Query';\nimport { QueryResponse } from './QueryResponse';\n\nexport abstract class QueryHandler<Q extends Query, R extends QueryResponse> {\n    private readonly _queryName: string;\n\n    protected constructor(query: Type<Query>) {\n        this._queryName = query.name;\n    }\n\n    public subscribedTo(): string {\n        return this._queryName;\n    }\n\n    abstract handle(query: Q): Promise<R>;\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Type.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/Query.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/QueryResponse.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/SimpleMessage.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoQuery.ts",{"fileContent":"import MessageId from '@microk/common/message/MessageId';\nimport { MessageType } from '@microk/common/message/MessageType';\nimport MessageNameFactory from '@microk/common/value-object/MessageNameFactory';\nimport Query from '@microk/cqrs/domain/query/Query';\n\nexport default class InfoQuery extends Query {\n    constructor() {\n        super(\n            MessageId.create(),\n            MessageNameFactory.create('consulted', 'info', MessageType.QUERY),\n        );\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/MessageNameFactory.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/Query.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/SimpleMessage.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts",{"fileContent":"import Uuid from '../value-object/Uuid';\n\nexport default class MessageId extends Uuid {\n    static create(): MessageId {\n        return Uuid.create();\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/InvalidArgumentError.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts",{"fileContent":"import { ValueObject } from './ValueObject';\nimport { InvalidArgumentError } from './InvalidArgumentError';\nimport { v4, validate } from 'uuid';\n\nexport default class Uuid extends ValueObject<string> {\n    constructor(value: string) {\n        super(value)\n        this.ensureIsValidUuid(value);\n    }\n\n    static create(): Uuid {\n        return new Uuid(v4());\n    }\n\n    private ensureIsValidUuid(uuid: string): void {\n        if (!validate(uuid)) {\n            throw new InvalidArgumentError(`<${this.constructor.name}> does not allow the value <${uuid}>`);\n        }\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/InvalidArgumentError.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts",{"fileContent":"import { PrimitiveType } from '../PrimitiveType';\n\nexport abstract class ValueObject<T extends PrimitiveType> {\n    protected constructor(\n        private readonly _value: T,\n    ) {\n    }\n\n    public value(): T {\n        return this._value;\n    }\n\n    public equals(other: ValueObject<T>): boolean {\n        return this.value() === other.value();\n    }\n\n    protected toJSON() {\n        return this.toString();\n    }\n\n    toString() {\n        if (this._value) {\n            return this._value.toString();\n        }\n\n        return this._value;\n    }\n\n    valueOf() {\n        return this._value;\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/InvalidArgumentError.ts",{"fileContent":"export class InvalidArgumentError extends Error {}\n","resolvedModuleNames":[]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts",{"fileContent":"export enum MessageType {\n    DOMAIN_EVENT = 'domain-event',\n    COMMAND = 'command',\n    QUERY = 'query',\n}\n","resolvedModuleNames":[]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/MessageNameFactory.ts",{"fileContent":"import { MessageType } from '../message/MessageType';\nimport MessageName from '../message/MessageName';\n\nexport default class MessageNameFactory {\n    private static readonly DEFAULT_VERSION = 1;\n    static create(\n        name: string,\n        entity: string,\n        type: MessageType,\n        version = this.DEFAULT_VERSION,\n        service = 'auth',\n        companyName = 'invoicesystem',\n    ): MessageName {\n        return new MessageName(`${companyName}.${service}.${type}.${version}.${entity}.${name}`);\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts",{"fileContent":"import { StringValueObject } from '../value-object/StringValueObject';\n\n/**\n * Standard to name MessageName\n * CompanyName.service.version.{event | command | query}.entity.name\n */\nexport default class MessageName extends StringValueObject {\n\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts",{"fileContent":"import { ValueObject } from './ValueObject';\n\nexport abstract class StringValueObject extends ValueObject<string> {\n    constructor(value: string) {\n        super(value);\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/Query.ts",{"fileContent":"import SimpleMessage from '../../../common/message/SimpleMessage';\nimport MessageMeta from '../../../common/message/MessageMeta';\nimport MessageName from '../../../common/message/MessageName';\nimport { MessageType } from '../../../common/message/MessageType';\nimport MessageId from '../../../common/message/MessageId';\n\nexport default class Query extends SimpleMessage {\n    constructor(id: MessageId, name: MessageName, meta?: MessageMeta) {\n        super(id, MessageType.QUERY, name, meta);\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/SimpleMessage.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/Message.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Serializable.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/SimpleMessage.ts",{"fileContent":"import Message from './Message';\n\nexport default class SimpleMessage extends Message {\n\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/Message.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Serializable.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/Message.ts",{"fileContent":"import { MessageType } from './MessageType';\nimport MessageId from './MessageId';\nimport MessageName from './MessageName';\nimport MessageMeta from './MessageMeta';\nimport Serializable from '../Serializable';\nimport { PrimitivesObject } from '../PrimitiveType';\n\nexport default abstract class Message implements Serializable {\n    protected constructor(\n        protected readonly id: MessageId,\n        protected readonly type: MessageType,\n        protected readonly _name: MessageName,\n        protected readonly meta: MessageMeta = new MessageMeta(),\n    ) {}\n\n    get name(): MessageName {\n        return this._name;\n    }\n\n    toPrimitive(): PrimitivesObject {\n        return {\n            id: this.id.value(),\n            name: this._name.value(),\n            type: this.type.toString(),\n            meta: this.meta.toPrimitive(),\n        };\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Serializable.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts",{"fileContent":"import { PrimitivesObject, PrimitiveType } from '../PrimitiveType';\nimport Serializable from '../Serializable';\n\ntype MessageMetaType = {\n    correlationId?: string,\n    replyTo?: string,\n    [key: string]: PrimitiveType,\n}\n\nexport default class MessageMeta implements Serializable {\n    constructor(\n        private readonly value: MessageMetaType = {},\n    ) {}\n\n    toPrimitive(): PrimitivesObject {\n        return this.value;\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Serializable.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoService.ts",{"fileContent":"import Uuid from '@microk/common/value-object/Uuid';\nimport EventBus from '@microk/event/domain/EventBus';\nimport { sleep } from '@microk/utils/Sleep';\nimport { InfoResponse } from './InfoResponse';\nimport InfoRequestedDomainEvent from '../../domain/InfoRequestedDomainEvent';\n\nexport default class InfoService {\n    constructor(private readonly eventBus: EventBus) {\n    }\n\n    public async invoke(): Promise<InfoResponse> {\n        // throw new NotFoundHttpError('Esto es un error tocho');\n        await sleep(1200)\n\n        this.eventBus.publish([new InfoRequestedDomainEvent(Uuid.create())])\n\n        return {\n            name: 'is-auth',\n            version: '1.0.0',\n        };\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/EventBus.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/utils/Sleep.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoResponse.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/domain/InfoRequestedDomainEvent.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/InvalidArgumentError.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/EventSubscriber.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Mapper.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/DomainEvent.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/QueryResponse.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/MessageNameFactory.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessageOccurredOn.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/utils/Sleep.ts",{"fileContent":"export const sleep = (time) => new Promise((resolve) => {\n    setTimeout(() => {\n        resolve(0);\n    }, time);\n})\n","resolvedModuleNames":[]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/domain/InfoRequestedDomainEvent.ts",{"fileContent":"import { MessageType } from '@microk/common/message/MessageType';\nimport MessageNameFactory from '@microk/common/value-object/MessageNameFactory';\nimport Uuid from '@microk/common/value-object/Uuid';\nimport DomainEvent from '../../../microk/event/domain/DomainEvent';\nimport MessageId from '../../../microk/common/message/MessageId';\nimport AggregateMessageOccurredOn from '../../../microk/common/message/AggregateMessageOccurredOn';\n\nexport default class InfoRequestedDomainEvent extends DomainEvent {\n    static EVENT_NAME = MessageNameFactory.create('requested', 'info', MessageType.DOMAIN_EVENT);\n\n    constructor(\n        aggregateId: Uuid,\n    ) {\n        super(\n            MessageId.create(),\n            InfoRequestedDomainEvent.EVENT_NAME,\n            aggregateId,\n            AggregateMessageOccurredOn.now(),\n        );\n    }\n\n    static fromPrimitives(args: any): InfoRequestedDomainEvent {\n        return new InfoRequestedDomainEvent(new Uuid(args.aggregateId));\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/MessageNameFactory.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/DomainEvent.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessageOccurredOn.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/InvalidArgumentError.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessage.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/DateValueObject.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/DomainEvent.ts",{"fileContent":"import AggregateMessage from '../../common/message/AggregateMessage';\nimport MessageMeta from '../../common/message/MessageMeta';\nimport { MessageType } from '../../common/message/MessageType';\nimport MessageName from '../../common/message/MessageName';\nimport AggregateMessageOccurredOn from '../../common/message/AggregateMessageOccurredOn';\nimport MessageId from '../../common/message/MessageId';\nimport Uuid from '../../common/value-object/Uuid';\n\nexport default abstract class DomainEvent extends AggregateMessage {\n    protected constructor(\n        id: MessageId,\n        name: MessageName,\n        aggregateId: Uuid,\n        occurredOn: AggregateMessageOccurredOn,\n        meta: MessageMeta = new MessageMeta(),\n    ) {\n        super(id, MessageType.DOMAIN_EVENT, name, aggregateId, occurredOn, meta);\n    }\n}\n\nexport type DomainEventClass = { EVENT_NAME: MessageName, fromPrimitives(...args: any[]): DomainEvent; };\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessage.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessageOccurredOn.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/Message.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Serializable.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/DateValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/InvalidArgumentError.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessage.ts",{"fileContent":"import { PrimitivesObject } from '../PrimitiveType';\nimport Uuid from '../value-object/Uuid';\nimport Message from './Message';\nimport MessageMeta from './MessageMeta';\nimport { MessageType } from './MessageType';\nimport MessageName from './MessageName';\nimport MessageId from './MessageId';\nimport AggregateMessageOccurredOn from './AggregateMessageOccurredOn';\n\nexport default abstract class AggregateMessage extends Message {\n    protected constructor(\n        id: MessageId,\n        type: MessageType,\n        name: MessageName,\n        protected readonly aggregateId: Uuid,\n        protected readonly occurredOn: AggregateMessageOccurredOn,\n        meta: MessageMeta = new MessageMeta()\n    ) {\n        super(id, type, name, meta);\n    }\n\n    toPrimitive(): PrimitivesObject {\n        return {\n            ...super.toPrimitive(),\n            aggregateId: this.aggregateId.value(),\n            occurredOn: this.occurredOn.toString(),\n        };\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/Message.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessageOccurredOn.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/InvalidArgumentError.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Serializable.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/DateValueObject.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessageOccurredOn.ts",{"fileContent":"import { DateValueObject } from '../value-object/DateValueObject';\n\nexport default class AggregateMessageOccurredOn extends DateValueObject {\n    static now(): AggregateMessageOccurredOn {\n        return new AggregateMessageOccurredOn(new Date());\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/DateValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/DateValueObject.ts",{"fileContent":"import { ValueObject } from './ValueObject';\n\nexport abstract class DateValueObject extends ValueObject<Date> {\n    protected constructor(value: Date) {\n        super(value);\n    }\n\n    toString() {\n        if (super.value()) {\n            return super.value().toISOString();\n        }\n        return super.toString();\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/ValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/PrimitiveType.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/tests/modules/info/__mocks__/EventBusMock.ts",{"fileContent":"import { Mapper } from '@microk/common/Mapper';\nimport MessageName from '@microk/common/message/MessageName';\nimport DomainEvent from '@microk/event/domain/DomainEvent';\nimport EventBus from '@microk/event/domain/EventBus';\nimport EventSubscriber from '@microk/event/domain/EventSubscriber';\n\nexport default class EventBusMock implements EventBus {\n    private publishSpy = jest.fn();\n\n    async publish(events: DomainEvent[]) {\n        this.publishSpy(events);\n    }\n\n    attachMapper(domainEventSubscriberMapper: Mapper<MessageName, Array<EventSubscriber<DomainEvent>>>): void {\n    }\n\n    hasBeenPublishedEvent() {\n        expect(this.publishSpy).toHaveBeenCalled();\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/Mapper.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageName.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/DomainEvent.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/EventBus.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/event/domain/EventSubscriber.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/StringValueObject.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessage.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageMeta.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/AggregateMessageOccurredOn.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/Uuid.ts"]}],["/Users/cuatroochenta/MagicShopper/magicshopper-node/tests/modules/info/domain/InfoQueryMother.ts",{"fileContent":"import InfoQuery from '../../../../src/modules/info/application/info/InfoQuery';\n\nexport default class InfoQueryMother {\n    private static create() {\n        return new InfoQuery();\n    }\n\n    static random(): InfoQuery {\n        return this.create();\n    }\n}\n","resolvedModuleNames":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/info/application/info/InfoQuery.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageId.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/message/MessageType.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/MessageNameFactory.ts","/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/cqrs/domain/query/Query.ts"]}]]