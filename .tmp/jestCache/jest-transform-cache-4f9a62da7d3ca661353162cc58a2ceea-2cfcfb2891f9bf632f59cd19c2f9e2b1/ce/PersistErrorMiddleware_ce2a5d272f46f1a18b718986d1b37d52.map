{"version":3,"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/core/infrastructure/error/PersistErrorMiddleware.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAA,YAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,+BAAA,CAAA,CAAA;;AAKA,MAAqB,sBAArB,CAA2C;AACvC,EAAA,WAAA,CACqB,YADrB,EAC+C;AAAA;AAAA;AAAA;AAA1B,SAAA,YAAA,GAAA,YAAA;AACjB;;AAEJ,EAAA,KAAK,CAAC,KAAD,EAAe,GAAf,EAA6B,GAA7B,EAA4C,IAA5C,EAAqE;AAAA;AAAA;AAAA;;AACtE,QAAI,KAAK,YAAT,EAAuB;AAAA;AAAA;AAAA;AACnB,WAAK,YAAL,CAAkB,KAAlB,CAAwB,YAAA,CAAA,UAAA,CAAW,SAAX,CAAqB,KAArB,CAAxB;AACH,KAFD;AAAA;AAAA;AAAA;AAAA;;AADsE;AAItE,IAAA,IAAI,CAAC,KAAD,CAAJ;AACH;;AAVsC;;;;AAA3C,OAAA,CAAA,OAAA,GAAA,sBAAA","sourcesContent":["import ErrorTracker from '../../domain/error/ErrorTracker';\nimport { TrackError } from '../../domain/error/TrackError';\nimport { ErrorMiddleware, ErrorMiddlewareNext } from '../../domain/ErrorMiddleware';\nimport { Request } from '../../domain/http/Request';\nimport { Response } from '../../domain/http/Response';\n\nexport default class PersistErrorMiddleware implements ErrorMiddleware {\n    constructor(\n        private readonly errorTracker: ErrorTracker,\n    ) {}\n\n    apply(error: Error, req: Request, res: Response, next: ErrorMiddlewareNext): void {\n        if (this.errorTracker) {\n            this.errorTracker.track(TrackError.fromError(error));\n        }\n        next(error);\n    }\n}\n"]}