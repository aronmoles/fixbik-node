{"file":"/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/auth/application/login/Authenticator.ts","mappings":";;;;;;;;;;;;;;AAKA,qGAA6E;AAE7E,MAAqB,aAAa;IAE9B,YACI,kBAAsC,EACrB,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QAEzD,IAAI,CAAC,uBAAuB,GAAG,IAAI,+BAAqB,CAAC,kBAAkB,CAAC,CAAC;IACjF,CAAC;IAEK,GAAG,CAAC,KAAoB,EAAE,QAA0B;;YACtD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAElE,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAEnC,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACvD,CAAC;KAAA;CACJ;AAhBD,gCAgBC","names":[],"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/auth/application/login/Authenticator.ts"],"sourcesContent":["import AuthToken from '../../domain/AuthToken';\nimport AuthTokenRepository from '../../domain/AuthTokenRepository';\nimport AuthUserEmail from '../../domain/AuthUserEmail';\nimport AuthUserPassword from '../../domain/AuthUserPassword';\nimport { AuthUserRepository } from '../../domain/AuthUserRepository';\nimport AuthUserSearchByEmail from '../search-by-email/AuthUserSearchByEmail';\n\nexport default class Authenticator {\n    private readonly authUserSearcherByEmail: AuthUserSearchByEmail;\n    constructor(\n        authUserRepository: AuthUserRepository,\n        private readonly authTokenRepository: AuthTokenRepository,\n    ) {\n        this.authUserSearcherByEmail = new AuthUserSearchByEmail(authUserRepository);\n    }\n\n    async run(email: AuthUserEmail, password: AuthUserPassword): Promise<AuthToken> {\n        const authUser = await this.authUserSearcherByEmail.search(email);\n\n        authUser.isValidPassword(password);\n\n        return this.authTokenRepository.generate(authUser);\n    }\n}\n"],"version":3}