{"file":"/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/core/infrastructure/error/PersistErrorMiddleware.ts","mappings":";;AACA,8DAA2D;AAK3D,MAAqB,sBAAsB;IACvC,YACqB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAC5C,CAAC;IAEJ,KAAK,CAAC,KAAY,EAAE,GAAY,EAAE,GAAa,EAAE,IAAyB;QACtE,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,uBAAU,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;SACxD;QACD,IAAI,CAAC,KAAK,CAAC,CAAC;IAChB,CAAC;CACJ;AAXD,yCAWC","names":[],"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/core/infrastructure/error/PersistErrorMiddleware.ts"],"sourcesContent":["import ErrorTracker from '../../domain/error/ErrorTracker';\nimport { TrackError } from '../../domain/error/TrackError';\nimport { ErrorMiddleware, ErrorMiddlewareNext } from '../../domain/ErrorMiddleware';\nimport { Request } from '../../domain/http/Request';\nimport { Response } from '../../domain/http/Response';\n\nexport default class PersistErrorMiddleware implements ErrorMiddleware {\n    constructor(\n        private readonly errorTracker: ErrorTracker,\n    ) {}\n\n    apply(error: Error, req: Request, res: Response, next: ErrorMiddlewareNext): void {\n        if (this.errorTracker) {\n            this.errorTracker.track(TrackError.fromError(error));\n        }\n        next(error);\n    }\n}\n"],"version":3}