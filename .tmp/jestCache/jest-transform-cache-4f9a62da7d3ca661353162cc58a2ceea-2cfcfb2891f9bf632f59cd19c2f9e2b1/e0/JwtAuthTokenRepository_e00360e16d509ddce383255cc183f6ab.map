{"file":"/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/auth/infrastructure/generators/JwtAuthTokenRepository.ts","mappings":";;;;;AAGA,uEAA+C;AAG/C,gEAA+B;AAG/B,MAAqB,sBAAsB;IACvC,YACqB,GAAgB;QAAhB,QAAG,GAAH,GAAG,CAAa;IAErC,CAAC;IAED,QAAQ,CAAC,QAAkB;QACvB,MAAM,UAAU,GAAsB;YAClC,UAAU,EAAE,QAAQ,CAAC,EAAE,CAAC,QAAQ,EAAE;SACrC,CAAC;QACF,MAAM,KAAK,GAAG,sBAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;QAC/D,OAAO,mBAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;CACJ;AAbD,yCAaC","names":[],"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/auth/infrastructure/generators/JwtAuthTokenRepository.ts"],"sourcesContent":["import Env from '@microk/core/domain/Env';\nimport { EnvKey } from '../../../../app/ProcessEnv';\nimport FixBikeJwtPayload from '../../../shared/infrastructure/FixBikeJwtPayload';\nimport AuthToken from '../../domain/AuthToken';\nimport AuthTokenRepository from '../../domain/AuthTokenRepository';\nimport { AuthUser } from '../../domain/AuthUser';\nimport jwt from 'jsonwebtoken';\n\n\nexport default class JwtAuthTokenRepository implements AuthTokenRepository {\n    constructor(\n        private readonly env: Env<EnvKey>,\n    ) {\n    }\n\n    generate(authUser: AuthUser): AuthToken {\n        const jwtPayload: FixBikeJwtPayload = {\n            authUserId: authUser.id.toString(),\n        };\n        const token = jwt.sign(jwtPayload, this.env.get('JWT_SECRET'));\n        return AuthToken.fromString(token);\n    }\n}\n"],"version":3}