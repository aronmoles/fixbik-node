be77acbb6da26a875135afb165920275
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ValueObject_1 = require("./ValueObject");
const InvalidArgumentError_1 = require("./InvalidArgumentError");
const uuid_1 = require("uuid");
class Uuid extends ValueObject_1.ValueObject {
    constructor(value) {
        super(value);
        this.ensureIsValidUuid(value);
    }
    static create() {
        return new Uuid((0, uuid_1.v4)());
    }
    ensureIsValidUuid(uuid) {
        if (!(0, uuid_1.validate)(uuid)) {
            throw new InvalidArgumentError_1.InvalidArgumentError(`<${this.constructor.name}> does not allow the value <${uuid}>`);
        }
    }
}
exports.default = Uuid;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2N1YXRyb29jaGVudGEvTWFnaWNTaG9wcGVyL21hZ2ljc2hvcHBlci1ub2RlL3NyYy9taWNyb2svY29tbW9uL3ZhbHVlLW9iamVjdC9VdWlkLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsK0NBQTRDO0FBQzVDLGlFQUE4RDtBQUM5RCwrQkFBb0M7QUFFcEMsTUFBcUIsSUFBSyxTQUFRLHlCQUFtQjtJQUNqRCxZQUFZLEtBQWE7UUFDckIsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ1osSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTTtRQUNULE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBQSxTQUFFLEdBQUUsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxJQUFZO1FBQ2xDLElBQUksQ0FBQyxJQUFBLGVBQVEsRUFBQyxJQUFJLENBQUMsRUFBRTtZQUNqQixNQUFNLElBQUksMkNBQW9CLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksK0JBQStCLElBQUksR0FBRyxDQUFDLENBQUM7U0FDbkc7SUFDTCxDQUFDO0NBQ0o7QUFmRCx1QkFlQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvY3VhdHJvb2NoZW50YS9NYWdpY1Nob3BwZXIvbWFnaWNzaG9wcGVyLW5vZGUvc3JjL21pY3Jvay9jb21tb24vdmFsdWUtb2JqZWN0L1V1aWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsdWVPYmplY3QgfSBmcm9tICcuL1ZhbHVlT2JqZWN0JztcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi9JbnZhbGlkQXJndW1lbnRFcnJvcic7XG5pbXBvcnQgeyB2NCwgdmFsaWRhdGUgfSBmcm9tICd1dWlkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXVpZCBleHRlbmRzIFZhbHVlT2JqZWN0PHN0cmluZz4ge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIodmFsdWUpXG4gICAgICAgIHRoaXMuZW5zdXJlSXNWYWxpZFV1aWQodmFsdWUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoKTogVXVpZCB7XG4gICAgICAgIHJldHVybiBuZXcgVXVpZCh2NCgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGVuc3VyZUlzVmFsaWRVdWlkKHV1aWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoYDwke3RoaXMuY29uc3RydWN0b3IubmFtZX0+IGRvZXMgbm90IGFsbG93IHRoZSB2YWx1ZSA8JHt1dWlkfT5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==