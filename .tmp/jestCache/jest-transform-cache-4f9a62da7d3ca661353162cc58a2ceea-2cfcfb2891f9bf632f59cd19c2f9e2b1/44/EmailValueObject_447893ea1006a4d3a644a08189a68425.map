{"version":3,"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/common/value-object/EmailValueObject.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAZT,MAAA,mBAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,+CAAA,CAAA,CAAA;AACA,MAAA,mBAAA;AAAA;AAAA,0BAAA,eAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA,CAAA;;AAEA,MAAqB,gBAArB;AAAA;AAAA,CAA8C,mBAAA,CAAA,iBAA9C,EAA+D;AAC3D,EAAA,WAAA,CAAY,KAAZ,EAAyB;AAAA;AAAA;AAAA;AACrB,UAAM,KAAN;;AADqB;AAAA;AAErB,SAAK,kBAAL,CAAwB,KAAxB;AACH;;AAEO,EAAA,kBAAkB,CAAC,KAAD,EAAc;AAAA;AAAA;AAAA;;AACpC,QAAI,CAAC,KAAK,YAAL,CAAkB,KAAlB,CAAL,EAA+B;AAAA;AAAA;AAAA;AAC3B,YAAM,IAAI,mBAAA,CAAA,OAAJ,CAAsB,KAAtB,CAAN;AACH,KAFD;AAAA;AAAA;AAAA;AAAA;AAGH;;AAEO,EAAA,YAAY,CAAC,KAAD,EAAc;AAAA;AAAA;AAAA;AAC9B,WAAO,MAAM,CAAC,KAAD,CAAN,CACF,WADE,GAEF,KAFE,EAGC;AACA,2JAJD,CAAP;AAMH;;AAnB0D;;;;AAA/D,OAAA,CAAA,OAAA,GAAA,gBAAA","sourcesContent":["import { StringValueObject } from '@microk/common/value-object/StringValueObject';\nimport InvalidEmailError from './InvalidEmailError';\n\nexport default class EmailValueObject extends StringValueObject {\n    constructor(email: string) {\n        super(email);\n        this.ensureIsValidEmail(email);\n    }\n\n    private ensureIsValidEmail(email: string) {\n        if (!this.isValidEmail(email)) {\n            throw new InvalidEmailError(email)\n        }\n    }\n\n    private isValidEmail(email: string) {\n        return String(email)\n            .toLowerCase()\n            .match(\n                // eslint-disable-next-line max-len,prefer-named-capture-group\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            );\n    }\n}\n"]}