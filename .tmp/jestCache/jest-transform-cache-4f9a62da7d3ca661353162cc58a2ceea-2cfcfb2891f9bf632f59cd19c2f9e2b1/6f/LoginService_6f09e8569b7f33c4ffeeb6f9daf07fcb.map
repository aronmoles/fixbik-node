{"file":"/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/auth/application/login/LoginService.ts","mappings":";;;;;;;;;;;AAMA,MAAqB,YAAY;IAC7B,YACqB,kBAAsC,EACtC,mBAAwC;QADxC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;IAE7D,CAAC;IAEK,GAAG,CAAC,KAAoB,EAAE,QAA0B;;YACtD,yDAAyD;YACzD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAEpE,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAEnC,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACvD,CAAC;KAAA;CACJ;AAfD,+BAeC","names":[],"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/auth/application/login/LoginService.ts"],"sourcesContent":["import AuthToken from '../../domain/AuthToken';\nimport AuthTokenRepository from '../../domain/AuthTokenRepository';\nimport AuthUserEmail from '../../domain/AuthUserEmail';\nimport AuthUserPassword from '../../domain/AuthUserPassword';\nimport { AuthUserRepository } from '../../domain/AuthUserRepository';\n\nexport default class LoginService {\n    constructor(\n        private readonly authUserRepository: AuthUserRepository,\n        private readonly authTokenRepository: AuthTokenRepository,\n    ) {\n    }\n\n    async run(email: AuthUserEmail, password: AuthUserPassword): Promise<AuthToken> {\n        // TODO extract to Domain Service and seearch by criteria\n        const authUser = await this.authUserRepository.searchByEmail(email);\n\n        authUser.isValidPassword(password);\n\n        return this.authTokenRepository.generate(authUser);\n    }\n}\n"],"version":3}