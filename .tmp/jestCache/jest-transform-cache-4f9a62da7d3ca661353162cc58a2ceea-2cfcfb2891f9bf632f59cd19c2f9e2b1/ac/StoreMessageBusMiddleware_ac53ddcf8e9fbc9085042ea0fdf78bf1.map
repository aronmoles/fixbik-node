{"file":"/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/message-store/infrastructure/StoreMessageBusMiddleware.ts","mappings":";;;;;;;;;;;AAIA,MAAqB,yBAAyB;IAC1C,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAG,CAAC;IAErD,GAAG,CAAC,OAAgB,EAAE,IAAwB;;YAChD,MAAM,GAAG,GAAG,MAAM,IAAI,EAAE,CAAC;YACzB,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACvC,OAAO,GAAG,CAAC;QACf,CAAC;KAAA;CACJ;AARD,4CAQC","names":[],"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/message-store/infrastructure/StoreMessageBusMiddleware.ts"],"sourcesContent":["import Message from '../../common/message/Message';\nimport WrapperExecutor from '../../core/domain/WrapperExecutor';\nimport MessageStore from '../domain/MessageStore';\n\nexport default class StoreMessageBusMiddleware implements WrapperExecutor<Message, any> {\n    constructor(private readonly messageStore: MessageStore) {}\n\n    async run(message: Message, next: () => Promise<any>): Promise<any> {\n        const res = await next();\n        await this.messageStore.store(message);\n        return res;\n    }\n}\n"],"version":3}