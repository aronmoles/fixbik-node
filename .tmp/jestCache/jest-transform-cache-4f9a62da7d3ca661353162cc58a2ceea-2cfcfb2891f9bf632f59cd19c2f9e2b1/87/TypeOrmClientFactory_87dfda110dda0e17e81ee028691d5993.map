{"file":"/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/persistence/infrastructure/typeorm/TypeOrmClientFactory.ts","mappings":";;;;;;;;;;;;AAAA,qCAAsE;AAGtE,MAAa,oBAAoB;IAC7B,MAAM,CAAO,YAAY,CAAC,MAAqB;;YAC3C,IAAI;gBACA,MAAM,UAAU,GAAG,MAAM,IAAA,0BAAgB,EAAC;oBACtC,IAAI,EAAE,OAAO;oBACb,IAAI,EAAE,MAAM,CAAC,IAAI;oBACjB,IAAI,EAAE,MAAM,CAAC,IAAI;oBACjB,QAAQ,EAAE,MAAM,CAAC,QAAQ;oBACzB,QAAQ,EAAE,MAAM,CAAC,QAAQ;oBACzB,QAAQ,EAAE,MAAM,CAAC,QAAQ;oBACzB,oCAAoC;oBACpC,QAAQ,EAAE,CAAC,GAAG,SAAS,yEAAyE,CAAC;oBACjG,WAAW,EAAE,KAAK;oBAClB,OAAO,EAAE,IAAI;oBACb,mBAAmB,EAAE,YAAY;oBACjC,UAAU,EAAE,CAAC,gBAAgB,CAAC;oBAC9B,GAAG,EAAE;wBACD,aAAa,EAAE,WAAW;qBAC7B;iBACJ,CAAC,CAAC;gBAEH,OAAO,UAAU,CAAC;aACrB;YAAC,OAAO,KAAK,EAAE;gBACZ,sCAAsC;gBACtC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBAC5B,OAAO,IAAA,uBAAa,GAAE,CAAC;aAC1B;QACL,CAAC;KAAA;CACJ;AA5BD,oDA4BC","names":[],"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/persistence/infrastructure/typeorm/TypeOrmClientFactory.ts"],"sourcesContent":["import { Connection, createConnection, getConnection } from 'typeorm';\nimport { TypeOrmConfig } from './TypeOrmConfig';\n\nexport class TypeOrmClientFactory {\n    static async createClient(config: TypeOrmConfig): Promise<Connection> {\n        try {\n            const connection = await createConnection({\n                type: 'mysql',\n                host: config.host,\n                port: config.port,\n                username: config.username,\n                password: config.password,\n                database: config.database,\n                // eslint-disable-next-line no-undef\n                entities: [`${__dirname}/../../../../../src/**/**/infrastructure/persistence/typeorm/*{.js,.ts}`],\n                synchronize: false,\n                logging: true,\n                migrationsTableName: 'migrations',\n                migrations: ['migration/*.js'],\n                cli: {\n                    migrationsDir: 'migration',\n                },\n            });\n\n            return connection;\n        } catch (error) {\n            // eslint-disable-next-line no-console\n            console.log('error', error);\n            return getConnection();\n        }\n    }\n}\n"],"version":3}