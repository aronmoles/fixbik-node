a99683abdd13e6987896663932444254
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const MessageId_1 = __importDefault(require("@microk/common/message/MessageId"));
const MessageType_1 = require("@microk/common/message/MessageType");
const MessageNameFactory_1 = __importDefault(require("@microk/common/value-object/MessageNameFactory"));
const Query_1 = __importDefault(require("@microk/cqrs/domain/query/Query"));
const AuthUserEmail_1 = __importDefault(require("../../domain/AuthUserEmail"));
const AuthUserPassword_1 = __importDefault(require("../../domain/AuthUserPassword"));
class AuthenticateQuery extends Query_1.default {
    constructor(_email, _password) {
        super(MessageId_1.default.create(), MessageNameFactory_1.default.create('login', 'auth', MessageType_1.MessageType.QUERY));
        this._email = _email;
        this._password = _password;
    }
    static fromRequest(req) {
        return new AuthenticateQuery(new AuthUserEmail_1.default(req.body.email), new AuthUserPassword_1.default(req.body.password));
    }
    get email() {
        return this._email;
    }
    get password() {
        return this._password;
    }
}
exports.default = AuthenticateQuery;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2N1YXRyb29jaGVudGEvTWFnaWNTaG9wcGVyL21hZ2ljc2hvcHBlci1ub2RlL3NyYy9tb2R1bGVzL2F1dGgvYXBwbGljYXRpb24vbG9naW4vQXV0aGVudGljYXRlUXVlcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxpRkFBeUQ7QUFDekQsb0VBQWlFO0FBQ2pFLHdHQUFnRjtBQUVoRiw0RUFBb0Q7QUFDcEQsK0VBQXVEO0FBQ3ZELHFGQUE2RDtBQUU3RCxNQUFxQixpQkFBa0IsU0FBUSxlQUFLO0lBUWhELFlBQ3FCLE1BQXFCLEVBQ3JCLFNBQTJCO1FBRTVDLEtBQUssQ0FDRCxtQkFBUyxDQUFDLE1BQU0sRUFBRSxFQUNsQiw0QkFBa0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSx5QkFBVyxDQUFDLEtBQUssQ0FBQyxDQUNoRSxDQUFDO1FBTmUsV0FBTSxHQUFOLE1BQU0sQ0FBZTtRQUNyQixjQUFTLEdBQVQsU0FBUyxDQUFrQjtJQU1oRCxDQUFDO0lBZkQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFZO1FBQzNCLE9BQU8sSUFBSSxpQkFBaUIsQ0FDeEIsSUFBSSx1QkFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQ2pDLElBQUksMEJBQWdCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FDMUMsQ0FBQTtJQUNMLENBQUM7SUFZRCxJQUFJLEtBQUs7UUFDTCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0NBQ0o7QUF6QkQsb0NBeUJDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9jdWF0cm9vY2hlbnRhL01hZ2ljU2hvcHBlci9tYWdpY3Nob3BwZXItbm9kZS9zcmMvbW9kdWxlcy9hdXRoL2FwcGxpY2F0aW9uL2xvZ2luL0F1dGhlbnRpY2F0ZVF1ZXJ5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNZXNzYWdlSWQgZnJvbSAnQG1pY3Jvay9jb21tb24vbWVzc2FnZS9NZXNzYWdlSWQnO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAbWljcm9rL2NvbW1vbi9tZXNzYWdlL01lc3NhZ2VUeXBlJztcbmltcG9ydCBNZXNzYWdlTmFtZUZhY3RvcnkgZnJvbSAnQG1pY3Jvay9jb21tb24vdmFsdWUtb2JqZWN0L01lc3NhZ2VOYW1lRmFjdG9yeSc7XG5pbXBvcnQgeyBSZXF1ZXN0IH0gZnJvbSAnQG1pY3Jvay9jb3JlL2RvbWFpbi9odHRwL1JlcXVlc3QnO1xuaW1wb3J0IFF1ZXJ5IGZyb20gJ0BtaWNyb2svY3Fycy9kb21haW4vcXVlcnkvUXVlcnknO1xuaW1wb3J0IEF1dGhVc2VyRW1haWwgZnJvbSAnLi4vLi4vZG9tYWluL0F1dGhVc2VyRW1haWwnO1xuaW1wb3J0IEF1dGhVc2VyUGFzc3dvcmQgZnJvbSAnLi4vLi4vZG9tYWluL0F1dGhVc2VyUGFzc3dvcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRoZW50aWNhdGVRdWVyeSBleHRlbmRzIFF1ZXJ5IHtcbiAgICBzdGF0aWMgZnJvbVJlcXVlc3QocmVxOiBSZXF1ZXN0KTogQXV0aGVudGljYXRlUXVlcnkge1xuICAgICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0ZVF1ZXJ5KFxuICAgICAgICAgICAgbmV3IEF1dGhVc2VyRW1haWwocmVxLmJvZHkuZW1haWwpLFxuICAgICAgICAgICAgbmV3IEF1dGhVc2VyUGFzc3dvcmQocmVxLmJvZHkucGFzc3dvcmQpLFxuICAgICAgICApXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2VtYWlsOiBBdXRoVXNlckVtYWlsLFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9wYXNzd29yZDogQXV0aFVzZXJQYXNzd29yZCxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICBNZXNzYWdlSWQuY3JlYXRlKCksXG4gICAgICAgICAgICBNZXNzYWdlTmFtZUZhY3RvcnkuY3JlYXRlKCdsb2dpbicsICdhdXRoJywgTWVzc2FnZVR5cGUuUVVFUlkpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldCBlbWFpbCgpOiBBdXRoVXNlckVtYWlsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtYWlsO1xuICAgIH1cblxuICAgIGdldCBwYXNzd29yZCgpOiBBdXRoVXNlclBhc3N3b3JkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bhc3N3b3JkO1xuICAgIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==