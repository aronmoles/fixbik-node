{"version":3,"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/modules/auth/infrastructure/generators/JwtAuthTokenRepository.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAhBR,MAAA,WAAA;AAAA;AAAA,0BAAA,eAAA,CAAA,OAAA,CAAA,wBAAA,CAAA,CAAA,CAAA;AAGA,MAAA,cAAA;AAAA;AAAA,0BAAA,eAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA,CAAA;;AAGA,MAAqB,sBAArB,CAA2C;AACvC,EAAA,WAAA,CACqB,GADrB,EACqC;AAAA;AAAA;AAAA;AAAhB,SAAA,GAAA,GAAA,GAAA;AAEpB;;AAED,EAAA,QAAQ,CAAC,QAAD,EAAmB;AAAA;AAAA;AACvB,UAAM,UAAU;AAAA;AAAA,8BAAsB;AAClC,MAAA,UAAU,EAAE,QAAQ,CAAC,EAAT,CAAY,QAAZ;AADsB,KAAtB,CAAhB;AAGA,UAAM,KAAK;AAAA;AAAA,8BAAG,cAAA,CAAA,OAAA,CAAI,IAAJ,CAAS,UAAT,EAAqB,KAAK,GAAL,CAAS,GAAT,CAAa,YAAb,CAArB,CAAH,CAAX;;AAJuB;AAAA;AAKvB,WAAO,WAAA,CAAA,OAAA,CAAU,UAAV,CAAqB,KAArB,CAAP;AACH;;AAZsC;;;;AAA3C,OAAA,CAAA,OAAA,GAAA,sBAAA","sourcesContent":["import Env from '@microk/core/domain/Env';\nimport { EnvKey } from '../../../../app/ProcessEnv';\nimport FixBikeJwtPayload from '../../../shared/infrastructure/FixBikeJwtPayload';\nimport AuthToken from '../../domain/AuthToken';\nimport AuthTokenRepository from '../../domain/AuthTokenRepository';\nimport { AuthUser } from '../../domain/AuthUser';\nimport jwt from 'jsonwebtoken';\n\n\nexport default class JwtAuthTokenRepository implements AuthTokenRepository {\n    constructor(\n        private readonly env: Env<EnvKey>,\n    ) {\n    }\n\n    generate(authUser: AuthUser): AuthToken {\n        const jwtPayload: FixBikeJwtPayload = {\n            authUserId: authUser.id.toString(),\n        };\n        const token = jwt.sign(jwtPayload, this.env.get('JWT_SECRET'));\n        return AuthToken.fromString(token);\n    }\n}\n"]}