{"version":3,"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/core/infrastructure/Executor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBC;;;;;;;;;;;;;;AAhBD,MAAqB,QAArB,CAA6B;AACzB,EAAA,WAAA,CACqB,gBADrB,EAC8D;AAAA;AAAA;AAAA;AAAzC,SAAA,gBAAA,GAAA,gBAAA;AAEpB;;AAED,EAAA,GAAG,CAAC,GAAD,EAAS,IAAT,EAA+B;AAAA;AAAA;AAAA;;AAC9B,UAAM,MAAM,GAAG,CAAC,KAAD,KAAkB;AAAA;AAAA;AAAA;;AAC7B,UAAI,KAAK,gBAAL,CAAsB,KAAtB,CAAJ,EAAkC;AAAA;AAAA;AAAA;AAC9B,eAAO,KAAK,gBAAL,CAAsB,KAAtB,EAA6B,GAA7B,CAAiC,GAAjC,EAAsC,MAAM;AAAA;AAAA;AAAA;AAAA,iBAAA,MAAM,CAAC,KAAK,GAAG,CAAT,CAAN;AAAiB,SAA7D,CAAP;AACH,OAFD;AAAA;AAAA;AAAA;AAAA;;AAD6B;AAI7B,aAAO,IAAI,EAAX;AACH,KALD;;AAD8B;AAAA;AAQ9B,WAAO,MAAM,CAAC,CAAD,CAAb;AACH;;AAfwB;;;;AAA7B,OAAA,CAAA,OAAA,GAAA,QAAA","sourcesContent":["import WrapperExecutor from '../domain/WrapperExecutor';\n\nexport default class Executor<A, R> {\n    constructor(\n        private readonly wrapperExecutors: WrapperExecutor<A, R>[],\n    ) {\n    }\n\n    run(arg: A, next: () => Promise<R>): Promise<R> {\n        const runner = (index: number) => {\n            if (this.wrapperExecutors[index]) {\n                return this.wrapperExecutors[index].run(arg, () => runner(index + 1))\n            }\n            return next();\n        }\n\n        return runner(0)\n    }\n}\n"]}