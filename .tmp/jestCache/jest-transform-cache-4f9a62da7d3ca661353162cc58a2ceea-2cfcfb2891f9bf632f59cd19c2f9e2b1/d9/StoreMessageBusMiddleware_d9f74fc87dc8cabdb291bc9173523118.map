{"version":3,"sources":["/Users/cuatroochenta/MagicShopper/magicshopper-node/src/microk/message-store/infrastructure/StoreMessageBusMiddleware.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHd,MAAqB,yBAArB,CAA8C;AAC1C,EAAA,WAAA,CAA6B,YAA7B,EAAuD;AAAA;AAAA;AAAA;AAA1B,SAAA,YAAA,GAAA,YAAA;AAA8B;;AAErD,EAAA,GAAG,CAAC,OAAD,EAAmB,IAAnB,EAA2C;AAAA;AAAA;AAAA;;;;AAChD,YAAM,GAAG;AAAA;AAAA,iCAAG,MAAM,IAAI,EAAb,CAAT;;;;AACA,YAAM,KAAK,YAAL,CAAkB,KAAlB,CAAwB,OAAxB,CAAN;;;;AACA,aAAO,GAAP;AACH,K;AAAA;;AAPyC;;;;AAA9C,OAAA,CAAA,OAAA,GAAA,yBAAA","sourcesContent":["import Message from '../../common/message/Message';\nimport WrapperExecutor from '../../core/domain/WrapperExecutor';\nimport MessageStore from '../domain/MessageStore';\n\nexport default class StoreMessageBusMiddleware implements WrapperExecutor<Message, any> {\n    constructor(private readonly messageStore: MessageStore) {}\n\n    async run(message: Message, next: () => Promise<any>): Promise<any> {\n        const res = await next();\n        await this.messageStore.store(message);\n        return res;\n    }\n}\n"]}